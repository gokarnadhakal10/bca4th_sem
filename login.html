<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login</title>

<style>
body {
    font-family: Arial;
    background: linear-gradient(135deg,#74ebd5,#9face6);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}
 nav {
    width: 100%;
    background: rgba(11,92,183,0.9);
    padding: 15px 0;
    display: flex;
    justify-content: center;
    gap: 20px;
    position: fixed;
    top: 0;
    z-index: 1000;
}
nav a {
    color: white;
    text-decoration: none;
    font-weight: bold;
    padding: 10px 15px;
    border-radius: 5px;
}
nav a:hover {
    background: #4f0cc3;
    color: white;
}
form {
    background: white;
    padding: 30px;
    border-radius: 10px;
    width: 320px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}
input, select {
    width: 100%;
    padding: 10px;
    margin-top: 8px;
}
input[type="submit"] {
    background: #6a5acd;
    color: white;
    border: none;
    margin-top: 15px;
    cursor: pointer;
}
.error {
    color: red;
    font-size: 14px;
}
.password-container {
    position: relative;
}
.eye-btn {
    position: absolute;
    right: 10px;
    top: 35%;
    cursor: pointer;
}
</style>
</head>

<body>
 <nav>
  <a href="firstpage.php">Home</a>
 
   <a href="login.html">Login</a>
  <a href="studentRegistration.html">Register</a>
  <a href="result.php">Result</a>
  <a href="about.html">About Us</a>
  <a href="help.html">Help</a>
   <a href="logout.php">logout</a>
</nav>



<form action="login.php" method="POST" onsubmit="return validateForm()">
<h2>Login</h2>

<p class="error" id="serverError"></p>

<input type="email" name="email" id="email" placeholder="Email">
<span class="error" id="emailError"></span>

<div class="password-container">
    <input type="password" name="password" id="password" placeholder="Password">
    <span class="eye-btn" onclick="togglePassword()">üëÅ</span>
</div>
<span class="error" id="passwordError"></span>

<select name="role" id="role">
    <option value="">Select Role</option>
    <option value="Admin">Admin</option>
    <option value="Voter">Voter</option>
</select>
<span class="error" id="roleError"></span>

<input type="submit" name="login" value="Login">
<p> Donot have an account? <a href="studentRegistration.html">Register from  here</a></p>
</form>

<script>
function togglePassword() {
    let p = document.getElementById("password");
    p.type = (p.type === "password") ? "text" : "password";
}

function validateForm() {
    let email = email = document.getElementById("email").value.trim();
    let password = document.getElementById("password").value.trim();
    let role = document.getElementById("role").value;

    document.getElementById("emailError").innerText = "";
    document.getElementById("passwordError").innerText = "";
    document.getElementById("roleError").innerText = "";

    let valid = true;

    if(email === ""){
        document.getElementById("emailError").innerText = "Email required";
        valid = false;
    }

    if(password === ""){
        document.getElementById("passwordError").innerText = "Password required";
        valid = false;
    }

    if(role === ""){
        document.getElementById("roleError").innerText = "Select role";
        valid = false;
    }

    return valid;
}

// show server error
const params = new URLSearchParams(window.location.search);
if(params.get("error")){
    document.getElementById("serverError").innerText = params.get("error");
}
</script>

</body>
</html>
